{"ast":null,"code":"var _jsxFileName = \"/Users/matheuscunha/USP/Plantshop/src/packages/profile/src/components/ProfilePage/ProfilePage.tsx\",\n    _s = $RefreshSig$();\n\nimport { connect } from 'react-redux';\nimport PurchaseInfo from '../PurchaseInfo';\nimport * as styles from './styles';\nimport { editUserRequest, loadAllOrdersRequest } from '../../../../../store/actionCreators';\nimport { useForm } from '../../../../useForm';\nimport { useHistory } from 'react-router';\nimport RentInfo from '../RentInfo';\nimport { useEffect } from 'react'; //import userEvent from '@testing-library/user-event';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfilePage = props => {\n  _s();\n\n  //Purchase\n  const renderOrders = (order, idx) => {\n    return /*#__PURE__*/_jsxDEV(PurchaseInfo, {\n      number: idx + 1,\n      date: order.date,\n      price: order.total,\n      productsOrders: order.productsOrders,\n      status: order.status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  };\n\n  const renderRentedproduct = (rentedProduct, idx) => {\n    return /*#__PURE__*/_jsxDEV(RentInfo, {\n      rentOrder: rentedProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, this);\n  }; //Edit Profile\n\n\n  const history = useHistory();\n  useEffect(() => {\n    if (props.user) {\n      props.loadAllOrders(props.user);\n    }\n  }, [props.user]);\n  const initialState = {\n    user: props.user\n  };\n\n  async function editProfileCallback() {\n    const input = JSON.parse(JSON.stringify(values));\n    let fs = document.getElementsByTagName(\"fieldset\")[0];\n    let eb = document.getElementById(\"editButton\");\n\n    if (eb !== null && fs !== null) {\n      if (eb.innerHTML === \"Editar\") {\n        eb.innerHTML = \"Salvar mudanças\";\n        fs.disabled = false;\n      } else {\n        eb.innerHTML = \"Editar\";\n\n        if (props.user) {\n          props.editUserInfo(input.name ? input.name : props.user.name, input.address ? input.address : props.user.address, input.phoneNumber ? input.phoneNumber : props.user.phoneNumber, input.email ? input.email : props.user.email, props.user.id);\n        }\n\n        fs.disabled = true;\n      }\n\n      history.push('./profile');\n    }\n  }\n\n  const {\n    onChange,\n    onSubmit,\n    values\n  } = useForm(editProfileCallback, initialState);\n  return props.user && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.profilePageWrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.infoDisplay,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\" Dados da conta de \", props.user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.infos,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n            disabled: true,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 10\n                }, this), \"Nome: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 16\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"name\",\n                  id: \"name\",\n                  onChange: onChange,\n                  defaultValue: props.user.name,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Endere\\xE7o: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 20\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"address\",\n                  id: \"address\",\n                  defaultValue: props.user.address,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Telefone: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 20\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"phoneNumber\",\n                  id: \"phoneNumber\",\n                  defaultValue: props.user.phoneNumber,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 17\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  id: \"email\",\n                  defaultValue: props.user.email,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"editButton\",\n              type: \"submit\",\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.purchaseList,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Meus pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [props.orders.map(renderOrders), props.rentedProducts.map(renderRentedproduct)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ProfilePage, \"fw5cx8bhaynJgcycrUn1DqptffU=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = ProfilePage;\n\nconst mapStateToProps = state => ({\n  orders: state.orders,\n  user: state.user,\n  allUsers: state.usersList,\n  rentedProducts: state.rentedProducts\n});\n\nconst mapDispatchToProps = dispatch => ({\n  editUserInfo: (name, address, phoneNumber, email, id) => {\n    dispatch(editUserRequest(name, address, phoneNumber, email, id));\n  },\n  loadAllOrders: user => {\n    dispatch(loadAllOrdersRequest(user));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfilePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["/Users/matheuscunha/USP/Plantshop/src/packages/profile/src/components/ProfilePage/ProfilePage.tsx"],"names":["connect","PurchaseInfo","styles","editUserRequest","loadAllOrdersRequest","useForm","useHistory","RentInfo","useEffect","ProfilePage","props","renderOrders","order","idx","date","total","productsOrders","status","renderRentedproduct","rentedProduct","history","user","loadAllOrders","initialState","editProfileCallback","input","JSON","parse","stringify","values","fs","document","getElementsByTagName","eb","getElementById","innerHTML","disabled","editUserInfo","name","address","phoneNumber","email","id","push","onChange","onSubmit","profilePageWrapper","infoDisplay","infos","purchaseList","orders","map","rentedProducts","mapStateToProps","state","allUsers","usersList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { ApplicationState, Order , RentOrder, User} from '../../../../../store/types';\nimport PurchaseInfo from '../PurchaseInfo';\nimport * as styles from './styles'\nimport { editUserRequest, loadAllOrdersRequest } from '../../../../../store/actionCreators';\nimport { useForm } from '../../../../useForm';\nimport {useHistory} from 'react-router';\nimport RentInfo from '../RentInfo';\nimport { useEffect } from 'react';\n//import userEvent from '@testing-library/user-event';\n\nexport interface ProfilePageProps{\n  orders: Order[],\n  user: User | null,\n  allUsers: User[],\n\trentedProducts: RentOrder[],\n  editUserInfo: (name: string, address: string, phoneNumber: string, email: string, id: string\n    ) => void,\n\tloadAllOrders: (user: User) => void,\n}\n\nconst ProfilePage: React.FC<ProfilePageProps> = (props) => {\n  //Purchase\n  const renderOrders = (order: Order, idx: number) =>{\n    return(\n      <PurchaseInfo number = {(idx+1)} date = {order.date} price = {order.total} productsOrders={order.productsOrders} status={order.status} />\n    );\n  }\n\n\tconst renderRentedproduct = (rentedProduct: RentOrder, idx: number) => {\n\t\treturn (\n\t\t\t<RentInfo rentOrder={rentedProduct} />\n\t\t);\n\t}\n\n  //Edit Profile\n  const history = useHistory();\n\n\tuseEffect(() => {\n\t\tif(props.user){\n\t\t\tprops.loadAllOrders(props.user);\n\t\t}\n\t}, [props.user]);\n\t\n\tconst initialState = {\n\t\tuser: props.user,\n\t}\n\n\tasync function editProfileCallback(){\n\t\tconst input = JSON.parse(JSON.stringify(values))\n\t\tlet fs = document.getElementsByTagName(\"fieldset\")[0];\n\t\tlet eb = document.getElementById(\"editButton\");\n\t\tif(eb !== null && fs !== null){\n\t\t\tif(eb.innerHTML === \"Editar\"){\n\t\t\t\teb.innerHTML = \"Salvar mudanças\"\n\t\t\t\tfs.disabled = false\t\n\t\t\t}else{\n\t\t\t\teb.innerHTML = \"Editar\"\n\t\t\t\tif(props.user){\n\t\t\t\t\tprops.editUserInfo(input.name ? input.name : props.user.name , input.address ? input.address:props.user.address, input.phoneNumber ? input.phoneNumber:props.user.phoneNumber, input.email ? input.email:props.user.email, props.user.id)\n\t\t\t\t}\n\t\t\t\tfs.disabled = true\n\t\t\t}\n\t\t\thistory.push('./profile')\n\t\t}\n\t}\n\n\tconst { onChange, onSubmit, values} = useForm(editProfileCallback, initialState); \n\n\treturn ( props.user &&\n\t\t<div className={styles.profilePageWrapper}>\n\t\t\t<div className={styles.infoDisplay}>\n\t\t\t\t<h1>Perfil</h1>\n\n\t\t\t\t<h2> Dados da conta de {props.user.name}</h2>\n\t\t\t\t<div className={styles.infos}>\n\t\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t\t<fieldset disabled={true}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\tNome: <br/> <input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tid=\"name\" \n\t\t\t\t\t\t\t\t\tonChange={onChange} \n\t\t\t\t\t\t\t\t\tdefaultValue={props.user.name}\n\t\t\t\t\t\t\t\t\trequired/> \n\t\t\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tEndereço: <br/> <input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tname=\"address\" \n\t\t\t\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\t\t\t\tdefaultValue={props.user.address}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\trequired/><br/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tTelefone: <br/> <input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tname=\"phoneNumber\" \n\t\t\t\t\t\t\t\t\tid=\"phoneNumber\"\n\t\t\t\t\t\t\t\t\tdefaultValue={props.user.phoneNumber}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\trequired/><br/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tEmail: <br/> <input \n\t\t\t\t\t\t\t\t\ttype=\"email\" \n\t\t\t\t\t\t\t\t\tname=\"email\" \n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tdefaultValue={props.user.email}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\trequired/><br/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<button id=\"editButton\" type=\"submit\">Editar</button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className={styles.purchaseList}>\n\t\t\t\t<h1> Meus pedidos</h1>\n\t\t\t\t<div>\n\t\t\t\t\t{props.orders.map(renderOrders)}\n\t\t\t\t\t{props.rentedProducts.map(renderRentedproduct)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n  );\n}\n\ninterface DispatchProps {\n  editUserInfo: (name: string, address: string, phoneNumber: string, email: string, id: string\n    ) => void,\n\tloadAllOrders: (user: User) => void,\n}\n\ninterface StateProps{\n  orders: Order[];\n  user: User;\n  allUsers: User[];\n\trentedProducts: RentOrder[];\n}\n\nconst mapStateToProps = (state: ApplicationState): StateProps => ({\n  orders: state.orders,\n  user: state.user!,\n  allUsers: state.usersList,\n  rentedProducts: state.rentedProducts\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => ({\n  editUserInfo:(name, address, phoneNumber, email, id) => {dispatch(editUserRequest(name, address, phoneNumber, email, id))},\n\tloadAllOrders: (user) => {dispatch(loadAllOrdersRequest(user))}\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfilePage);"]},"metadata":{},"sourceType":"module"}